
浏览器从输入一个url请求页面开始，到最终渲染完毕，总共发生了哪些事情？ （考察对网站架构的认识）     

```
Node

列表   播放   详情   下载   

浏览器
```
下载页：   
建立 tcp 连接，并且发送 HTTP 包给 node.js，然后node.jsd 路由分析请求回来的包是什么，如果是下载页的 url，就会转发到下载页的逻辑单元去，这个逻辑单元把下载页返回回去，由于它是一个静态页面，则会直接返回，它在node.js 的磁盘上面有一份模板，通过fs模块（文件管理模块）返回给路由，路由再返回到页面。 → 这就是一个基本的浏览器请求了。    

浏览器拿到这个下载页的文档之后，它是一个带有html标记的文本，还有很多css、script之类的声明， 这些都是一条一条的连接，比如.css文件，浏览器还是会请求到 node.js，node.js判断这个静态文件属于下载页，下载页发现它是一个静态文件，就不是直接从fs里边取文件，转发到另外的一个处理script脚本或css文件的处理逻辑，根据这个处理逻辑找到文件系统里边的css文件和js文件，并且返回下载页的逻辑单元里面，再返回到主路由、再返回到浏览器，浏览器拿到这些css、js之后，搭配html，才开始前端渲染，包括脚本执行、css渲染之类的东西。 

下载页代码：https://gitee.com/geektime-geekbang/geek-nodejs